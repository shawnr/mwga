"use strict";angular.module("mwgaApp",["ngAnimate","ngAria","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).otherwise({redirectTo:"/"})}]),angular.module("mwgaApp").controller("MainCtrl",["$scope","current","forecast","citycheck",function(a,b,c,d){a.showCurrent=!1,a.showForecast=!1,a.showInvalidCity=!1,a.dataLoading=!1,a.showSearch=!0,a.current=b.query(),a.forecast=c.query(),a.openCurrent=function(){a.dataLoading=!0,a.cityCheck=d.query({location:a.city}),a.cityCheck.$promise.then(function(b){"US"===b.sys.country?(console.log("City is in the USA."),a.showSearch=!1,a.showForecast=!1,a.showCurrent=!0,a.showInvalidCity=!1):(a.showInvalidCity=!0,console.log("City is invalid. Not in the USA."))})},a.openForecast=function(){a.showSearch=!1,a.showCurrent=!1,a.showForecast=!0,a.showInvalidCity=!1},a.openSearch=function(){a.showSearch=!0,a.showCurrent=!1,a.showForecast=!1,a.showInvalidCity=!1}}]),angular.module("mwgaApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("mwgaApp").factory("current",["$resource",function(a){return a("http://api.openweathermap.org/data/2.5/weather?id=:id&units=imperial&APPID=d9947bfbe4d5f42fa39c0d5e08ff915f",{},{query:{method:"GET",params:{id:"524901"},isArray:!1}})}]),angular.module("mwgaApp").factory("forecast",["$resource",function(a){return a("http://api.openweathermap.org/data/2.5/forecast/daily?id=:cityID&cnt=16&units=imperial&APPID=d9947bfbe4d5f42fa39c0d5e08ff915f",{},{query:{method:"GET",params:{cityID:"524901"},isArray:!1}})}]),angular.module("mwgaApp").factory("citycheck",["$resource",function(a){return a("http://api.openweathermap.org/data/2.5/weather?q=:location&units=imperial&APPID=d9947bfbe4d5f42fa39c0d5e08ff915f",{},{query:{method:"GET",params:{location:"Washington, DC"},isArray:!1}})}]),angular.module("mwgaApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/main.html",'<div class="search" ng-show="showSearch"> <p class="lead">Find the REAL weather where you live:</p> <p><input type="text" ng-model="city"><button ng-click="openCurrent()" class="btn btn-large btn-primary">Get REAL Weather!</button></p> <p>(American cities only, please.)</p> </div> <div class="current" ng-show="showCurrent"> <h2>The REAL Weather for: {{city}}</h2> <dl> <dt>Currently</dt> <dd>{{current.weather[0].main}}</dd> <dd>{{current.weather[0].description}}</dd> <dt>Temperature</dt> <dd>{{current.main.temp}}</dd> <dt>Wind</dt> <dd>{{current.wind.speed}} mph at {{current.wind.deg}} degrees</dd> <dt>Clouds</dt> <dd>{{current.clouds.all}}%</dd> </dl> <p><button ng-click="openForecast()" class="btn btn-block btn-primary">View Full REAL Forecast</button></p> </div> <div class="forecast" ng-show="showForecast"> <h2>The REAL Forecast for: {{city}}</h2> <dl ng-repeat="prediction in forecast.list" class="weather-forecast"> <dt>Forecast for {{prediction.dt*1000 | date:\'MMM dd, yyyy\'}}</dt> <dd>{{prediction.weather[0].main}}</dd> <dd>{{prediction.weather[0].description}}</dd> <dt>Temperature</dt> <dd>Min: {{prediction.temp.min}} &deg;F Max: {{prediction.temp.max}} &deg;F</dd> </dl> <p><button ng-click="openForecast()" class="btn btn-block btn-primary">View Current REAL Weather</button></p> </div> <div class="invalid-city" ng-show="showInvalidCity"> <h2>The City You Have Entered is Not in the USA!</h2> <p class="lead">They probably don\'t even have weather over there. Please search for a different city.</p> </div> <p ng-show="!showSearch"><button class="btn btn-block btn-primary" ng-click="openSearch()">Get REAL Weather Information for Another City</button></p>')}]);